<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">
{% include head.html %}
<body>
<div class="content">
  <h1><noscript>{{ page.title }}</noscript><script type="text/javascript">
    var title = '{{ page.title | escape }}';
    var parts = title.split(' ');
    var broken = false;
    for (var i = 0; i < parts.length; i++) {
      if (i > 0) {
        document.write(' ');
      }
      if (broken || Math.random() < .8) {
        document.write(parts[i]);
      } else {
        broken = true;
        var str = '<span class="broken-neon">_0</span>';
        str = str.replace('_0', parts[i]);
        document.write(str);
      }
    }
  </script></h1>
  {{ content }}
</div>
<div id="neon-horizon">
  <script type="text/javascript">
    // Put some random stars here.
    var n = 5 + Math.round(Math.random() * 20);
    var pad = [.05, .05, .05, .4];
    for (var i = 0; i < n; i++) {
      var randx = Math.random();
      var randy = Math.random();

      // Higher probability towards edges.
      randx = Math.atan(8 * (randx - .5)) / 2.7 + .5;

      // Star coordinates in percentages.
      var x = (pad[0] + randx * (1 - pad[0] - pad[2])) * 100;
      var y = (pad[1] + randy * (1 - pad[1] - pad[3])) * 100;
      
      // Star scale.
      var s = .2 + Math.random() * .5;
      s = s / (window.devicePixelRatio || 1);

      // Write to document.
      var str = '<div class="blinking-star _0" style="left: _1%; top: _2%; transform: scale(_3);"></div>';
      str = str.replace('_0', 'star-anim' + i);
      str = str.replace('_1', '' + x);
      str = str.replace('_2', '' + y);
      str = str.replace('_3', '' + s);
      document.write(str);
    }
  </script>
</div>
<div id="neon-grid"></div>
</body>
</html>
